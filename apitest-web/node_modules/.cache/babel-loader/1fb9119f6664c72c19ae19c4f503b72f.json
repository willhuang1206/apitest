{"remainingRequest":"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/babel-loader/lib/index.js!/Users/huangrong/workspace/apitest/apitest-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huangrong/workspace/apitest/apitest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangrong/workspace/apitest/apitest-vue/src/views/project/api/api.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangrong/workspace/apitest/apitest-vue/src/views/project/api/api.vue","mtime":1588815975497},{"path":"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/huangrong/workspace/apitest/apitest-vue/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nvar _api = require(\"@/api/api\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _navMenu = _interopRequireDefault(require(\"../../../components/navMenu.vue\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  components: {\n    NavMenu: _navMenu.default\n  },\n  data: function data() {\n    return {\n      project: \"\",\n      groupData: [],\n      GroupForm: {\n        title: '',\n        visible: false,\n        loading: false,\n        rules: {\n          name: [{\n            required: true,\n            message: '请输入分组名称',\n            trigger: 'blur'\n          }]\n        },\n        //新增界面数据\n        data: {\n          name: '',\n          id: '',\n          parentId: ''\n        }\n      },\n      filters: {\n        name: ''\n      },\n      api: [],\n      total: 0,\n      page: 1,\n      listLoading: false,\n      sels: [],\n      //列表选中列\n      apiView: true\n    };\n  },\n  methods: {\n    // 获取api分组\n    getApiGroup: function getApiGroup() {\n      var self = this;\n      var params = {\n        project_id: this.$route.params.project_id\n      };\n      var headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: 'Token ' + sessionStorage.getItem('token')\n      };\n\n      _axios.default.get(\"\".concat(_api.test, \"/api/api/group\"), {\n        params: params,\n        headers: headers\n      }).then(function (res) {\n        var _res$data = res.data,\n            msg = _res$data.msg,\n            code = _res$data.code,\n            data = _res$data.data;\n\n        if (code === '999999') {\n          self.groupData = data;\n        } else {\n          self.$message.error({\n            message: msg,\n            center: true\n          });\n        }\n      });\n    },\n    // 添加分组弹窗显示\n    handleAddGroup: function handleAddGroup(groupId) {\n      this.GroupForm.visible = true;\n      this.GroupForm.title = \"新增分组\";\n      this.GroupForm.data = {\n        name: '',\n        id: '',\n        parentId: groupId\n      };\n\n      if (groupId) {\n        this.GroupForm.data.parentId = groupId;\n      }\n    },\n    // 修改分组弹窗显示\n    handleEditGroup: function handleEditGroup(groupId, name) {\n      this.GroupForm.visible = true;\n      this.GroupForm.title = \"修改分组\";\n      this.GroupForm.data.id = groupId;\n      this.GroupForm.data = {\n        name: name,\n        id: groupId,\n        parentId: ''\n      };\n    },\n    //删除分组\n    handleDelGroup: function handleDelGroup(id) {\n      var _this = this;\n\n      this.$confirm('确认删除该分组吗?', '提示', {\n        type: 'warning'\n      }).then(function () {\n        //NProgress.start();\n        var self = _this;\n        var params = {\n          id: Number(id),\n          project_id: Number(_this.$route.params.project_id)\n        };\n        var headers = {\n          \"Content-Type\": \"application/json\",\n          Authorization: 'Token ' + sessionStorage.getItem('token')\n        };\n\n        _axios.default.post(\"\".concat(_api.test, \"/api/api/del_group\"), params, {\n          headers: headers\n        }).then(function (res) {\n          var _res$data2 = res.data,\n              msg = _res$data2.msg,\n              code = _res$data2.code,\n              data = _res$data2.data;\n\n          if (code === '999999') {\n            self.$message({\n              message: '删除成功',\n              center: true,\n              type: 'success'\n            });\n          } else {\n            self.$message.error({\n              message: msg,\n              center: true\n            });\n          }\n\n          self.getApiGroup();\n        });\n      }).catch(function () {});\n    },\n    // 添加分组\n    GroupFormSubmit: function GroupFormSubmit() {\n      var _this2 = this;\n\n      this.$refs.GroupForm.validate(function (valid) {\n        if (valid) {\n          var self = _this2;\n\n          _this2.$confirm('确认提交吗？', '提示', {}).then(function () {\n            self.GroupForm.loading = true; //NProgress.start();\n\n            var params = {\n              project_id: Number(_this2.$route.params.project_id),\n              name: self.GroupForm.data.name\n            };\n            var url = '';\n\n            if (self.GroupForm.data.id != '') {\n              url = \"\".concat(_api.test, \"/api/api/update_name_group\");\n              params[\"id\"] = self.GroupForm.data.id;\n            } else {\n              url = \"\".concat(_api.test, \"/api/api/add_group\");\n              params[\"parent_id\"] = self.GroupForm.data.parentId;\n            }\n\n            var headers = {\n              \"Content-Type\": \"application/json\",\n              Authorization: 'Token ' + sessionStorage.getItem('token')\n            };\n\n            _axios.default.post(url, params, {\n              headers: headers\n            }).then(function (res) {\n              var _res$data3 = res.data,\n                  msg = _res$data3.msg,\n                  code = _res$data3.code,\n                  data = _res$data3.data;\n              self.GroupForm.loading = false;\n\n              if (code === '999999') {\n                self.$message({\n                  message: '执行成功',\n                  center: true,\n                  type: 'success'\n                });\n                self.$refs['GroupForm'].resetFields();\n                self.GroupForm.visible = false;\n                self.getApiGroup();\n              } else if (code === '999997') {\n                self.$message.error({\n                  message: msg,\n                  center: true\n                });\n              } else {\n                self.$message.error({\n                  message: msg,\n                  center: true\n                });\n                self.$refs['GroupForm'].resetFields();\n                self.GroupForm.visible = false;\n                self.getApiGroup();\n              }\n            });\n          }).catch(function () {});\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getApiGroup();\n    this.project = this.$route.params.project_id;\n  }\n};\nexports.default = _default;",{"version":3,"sources":["api.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <section>\n        <el-row :span=\"24\" class=\"row-title\">\n            <el-col :span=\"4\">\n                <el-button class=\"addGroup\" @click=\"handleAddGroup(0)\">新增分组</el-button>\n                <router-link :to=\"{ name: '快速测试', params: {project_id: this.$route.params.project_id}}\" style='text-decoration: none;color: aliceblue;'>\n                    <el-button class=\"addGroup\">快速测试</el-button>\n                </router-link>\n                <div class=\"api-title\"><strong>接口分组</strong></div>\n                <div class=\"api-title\" style=\"cursor:pointer;\">\n                    <router-link :to=\"{ name: '接口列表', params: {project_id: this.$route.params.project_id}}\" style='text-decoration: none;color: aliceblue;'>\n                        所有接口\n                    </router-link>\n                </div>\n                <aside>\n                    <el-menu\n                     default-active=\"0\"\n                     class=\"el-menu-vertical-demo\"\n                     @select=\"menuSelected\" router>\n                     <!--background-color=\"#F0F6F6\"-->\n                     <!--text-color=\"#3C3F41\"-->\n                     <!--active-text-color=\"black\">-->\n                     <NavMenu :navMenus=\"groupData\" @handleAdd=\"handleAddGroup\" @handleEdit=\"handleEditGroup\" @handleDel=\"handleDelGroup\"></NavMenu>\n                    </el-menu>\n                </aside>\n            </el-col>\n            <!--新增-->\n            <el-dialog :title=\"GroupForm.title\" :visible.sync=\"GroupForm.visible\" :close-on-click-modal=\"false\" style=\"width: 60%; left: 20%\">\n                <el-form :model=\"GroupForm.data\" label-width=\"80px\"  :rules=\"GroupForm.rules\" ref=\"GroupForm\">\n                    <el-form-item label=\"分组名称\" prop='name'>\n                        <el-input v-model.trim=\"GroupForm.data.name\" auto-complete=\"off\" style=\"width: 90%\"></el-input>\n                    </el-form-item>\n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click.native=\"GroupForm.visible = false\">取消</el-button>\n                    <el-button type=\"primary\" @click.native=\"GroupFormSubmit\" :loading=\"GroupForm.loading\">提交</el-button>\n                </div>\n            </el-dialog>\n            <el-col :span=\"20\">\n                <div style=\"margin-left: 10px;margin-right: 20px\">\n                    <router-view></router-view>\n                </div>\n            </el-col>\n        </el-row>\n    </section>\n</template>\n\n<script>\n    import { test } from '@/api/api'\n    import axios from 'axios';\n    import NavMenu from \"../../../components/navMenu.vue\";\n    export default {\n        components: {\n          NavMenu\n        },\n        data() {\n            return {\n                project: \"\",\n                groupData: [],\n                GroupForm:{\n                    title: '',\n                    visible: false,\n                    loading: false,\n                    rules: {\n                        name: [\n                            { required: true, message: '请输入分组名称', trigger: 'blur' },\n                        ]\n                    },\n                    //新增界面数据\n                    data: {\n                        name: '',\n                        id: '',\n                        parentId: '',\n                    },\n                },\n                filters: {\n                    name: ''\n                },\n                api: [],\n                total: 0,\n                page: 1,\n                listLoading: false,\n                sels: [],//列表选中列\n                apiView: true,\n            }\n        },\n        methods: {\n            // 获取api分组\n            getApiGroup() {\n                let self = this;\n                let params = {\n                    project_id: this.$route.params.project_id\n                };\n                let headers = {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: 'Token '+sessionStorage.getItem('token')\n                };\n                axios.get(`${test}/api/api/group`, { params: params, headers:headers}).then(res => {\n                    let {msg, code, data} = res.data;\n                    if (code === '999999') {\n                        self.groupData = data;\n                    }\n                    else {\n                        self.$message.error({\n                            message: msg,\n                            center: true,\n                        })\n                    }\n                })\n            },\n            // 添加分组弹窗显示\n            handleAddGroup(groupId) {\n                this.GroupForm.visible = true;\n                this.GroupForm.title=\"新增分组\";\n                this.GroupForm.data={\n                        name: '',\n                        id: '',\n                        parentId: groupId,\n                    };\n                if(groupId){\n                    this.GroupForm.data.parentId=groupId;\n                }\n            },\n            // 修改分组弹窗显示\n            handleEditGroup(groupId, name) {\n                this.GroupForm.visible = true;\n                this.GroupForm.title=\"修改分组\";\n                this.GroupForm.data.id = groupId;\n                this.GroupForm.data={\n                        name: name,\n                        id: groupId,\n                        parentId: '',\n                    };\n            },\n            //删除分组\n            handleDelGroup: function (id) {\n                this.$confirm('确认删除该分组吗?', '提示', {\n                    type: 'warning'\n                }).then(() => {\n                    //NProgress.start();\n                    let self = this;\n                    let params = {\n                        id: Number(id),\n                        project_id: Number(this.$route.params.project_id)\n                    };\n                    let headers = {\n                        \"Content-Type\": \"application/json\",\n                        Authorization: 'Token ' + sessionStorage.getItem('token')\n                    };\n                    axios.post(`${test}/api/api/del_group`, params, {headers}).then(res => {\n                        let {msg, code, data} = res.data;\n                        if (code === '999999') {\n                            self.$message({\n                                message: '删除成功',\n                                center: true,\n                                type: 'success'\n                            })\n                        } else {\n                            self.$message.error({\n                                message: msg,\n                                center: true,\n                            })\n                        }\n                        self.getApiGroup()\n                    })\n                }).catch(() => {});\n            },\n            // 添加分组\n            GroupFormSubmit() {\n                this.$refs.GroupForm.validate((valid) => {\n                    if (valid) {\n                        let self = this;\n                        this.$confirm('确认提交吗？', '提示', {}).then(() => {\n                            self.GroupForm.loading = true;\n                            //NProgress.start();\n                            let params = {\n                                project_id: Number(this.$route.params.project_id),\n                                name: self.GroupForm.data.name\n                            };\n                            let url='';\n                            if(self.GroupForm.data.id!=''){\n                                url=`${test}/api/api/update_name_group`;\n                                params[\"id\"]=self.GroupForm.data.id;\n                            }else{\n                                url=`${test}/api/api/add_group`;\n                                params[\"parent_id\"]=self.GroupForm.data.parentId;\n                            }\n                            let headers = {\n                                \"Content-Type\": \"application/json\",\n                                Authorization: 'Token '+sessionStorage.getItem('token')\n                            };\n                            axios.post(url, params, {headers}).then(res => {\n                                let {msg, code, data} = res.data;\n                                self.GroupForm.loading = false;\n                                if (code === '999999') {\n                                    self.$message({\n                                        message: '执行成功',\n                                        center: true,\n                                        type: 'success'\n                                    });\n                                    self.$refs['GroupForm'].resetFields();\n                                    self.GroupForm.visible = false;\n                                    self.getApiGroup();\n                                } else if (code === '999997'){\n                                    self.$message.error({\n                                        message: msg,\n                                        center: true,\n                                    })\n                                } else {\n                                    self.$message.error({\n                                        message: msg,\n                                        center: true,\n                                    });\n                                    self.$refs['GroupForm'].resetFields();\n                                    self.GroupForm.visible = false;\n                                    self.getApiGroup();\n                                }\n                            })\n                        }).catch(() => {});\n                    }\n                });\n            },\n        },\n        mounted() {\n            this.getApiGroup();\n            this.project = this.$route.params.project_id\n\n        }\n    }\n\n</script>\n\n<style lang=\"scss\" scoped>\n    .api-title {\n        padding: 15px;\n        margin: 0px;\n        text-align: center;\n        border-radius:5px;\n        font-size: 15px;\n        color: aliceblue;\n        background-color: rgb(32, 160, 255);\n        font-family: PingFang SC;\n    }\n    .group .editGroup {\n        float:right;\n    }\n    .row-title {\n        margin: 35px;\n    }\n    .addGroup {\n        margin-top: 0px;\n        margin-bottom: 10px;\n        border-radius: 25px;\n    }\n</style>\n"],"sourceRoot":"src/views/project/api"}]}