{"remainingRequest":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangrong/workspace/apitest/apitest-web/src/views/project/auto/autoReport.vue?vue&type=template&id=1436c973&scoped=true&","dependencies":[{"path":"/Users/huangrong/workspace/apitest/apitest-web/src/views/project/auto/autoReport.vue","mtime":1588923684861},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<section>\n<div class=\"main\">\n    <!--工具条-->\n  <el-container>\n  <el-header>\n    <el-col v-show=\"!report.visible\" :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px;\">\n        <el-form :inline=\"true\" :model=\"filters\" @submit.native.prevent>\n            <!--<el-button v-show=\"!summaryTable.visible\" class=\"return-list\" @click=\"back\"><i class=\"el-icon-d-arrow-left\" style=\"margin-right: 5px\"></i>返回</el-button>-->\n            <!--<el-form-item v-show=\"summaryTable.visible\">-->\n                <!--<el-input v-model.trim=\"filters.name\" placeholder=\"名称\" @keyup.enter.native=\"viewAutomationSummary\"></el-input>-->\n            <!--</el-form-item>-->\n            <el-form-item v-if=\"global\">\n                <el-select v-model=\"project_id\"  placeholder=\"项目\">\n                    <el-option label=\"所有项目\" value=\"\"></el-option>\n                    <el-option v-for=\"(item,index) in projectlist\" :key=\"index+''\" :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item>\n                <el-select v-model=\"type\"  placeholder=\"类型\">\n                    <el-option v-for=\"(item,index) in listType\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item prop=\"timeArray\">\n                <el-date-picker  v-model=\"filters.testtime\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" type=\"daterange\" :picker-options=\"pickerOptions\"\n                                 range-separator=\"至\" start-placeholder=\"开始时间\" end-placeholder=\"结束时间\" align=\"right\" ></el-date-picker>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"handleSearch(type)\">查询</el-button>\n            </el-form-item>\n        </el-form>\n    </el-col>\n    <el-row v-show=\"report.visible\">\n        <el-col :span=\"5\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>{{report.data.name}}</h3>\n            </el-card>\n        </el-col>\n        <el-col :span=\"3\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>{{report.data.env}}</h3>\n            </el-card>\n        </el-col>\n        <el-col :span=\"4\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>{{report.data.testTime}}</h3>\n            </el-card>\n        </el-col>\n        <el-col :span=\"3\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3>\n                  <span v-show=\"report.data.status==='PASS'\" style=\"color: #11b95c;\">测试通过</span>\n                  <span v-show=\"report.data.status==='FAIL'\" style=\"color: #cc0000;\">测试失败</span>\n                </h3>\n            </el-card>\n        </el-col>\n        <el-col :span=\"3\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>执行用例{{report.data.totalCount}}个</h3>\n            </el-card>\n        </el-col>\n        <el-col v-show=\"report.data.status==='FAIL'\" :span=\"2\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>失败{{report.data.failCount}}个</h3>\n            </el-card>\n        </el-col>\n        <el-col :span=\"3\" class='inline'>\n            <el-card class=\"box-card\">\n                <h3><i class=\"\"/>耗时{{report.data.duration}}秒</h3>\n            </el-card>\n        </el-col>\n    </el-row>\n    </el-header>\n  <el-main>\n    <el-row v-show=\"!report.visible\">\n      <el-card v-show=\"autoChart.visible\" class=\"box-card\">\n        <div id=\"autoChart\" style=\"height:376px\"></div>\n      </el-card>\n    </el-row>\n    <el-row v-show=\"!report.visible\">\n      <el-card v-show=\"publishChart.visible\" class=\"box-card\">\n        <div id=\"publishChart\" style=\"height:376px\"></div>\n      </el-card>\n    </el-row>\n    <el-row v-show=\"!report.visible\">\n      <el-col :span=\"12\">\n    <el-card v-show=\"failChart.visible\" class=\"box-card\">\n      <div id=\"failTypeChart\" style=\"height:376px\"></div>\n    </el-card>\n        </el-col>\n      <el-col :span=\"12\">\n    <el-card v-show=\"failChart.visible\" class=\"box-card\">\n      <div id=\"failSeverityChart\" style=\"height:376px\"></div>\n    </el-card>\n        </el-col>\n    </el-row>\n    <el-row>\n    <el-table :data=\"detailTable.list\" element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\" v-loading=\"detailTable.loading\" v-show=\"detailTable.visible\" :row-style=\"tableRowStyle\">\n        <el-table-column type=\"expand\">\n            <template slot-scope=\"scope\">\n                <el-table :data=\"scope.row.details\" highlight-current-row style=\"width: 100%;\">\n                    <el-table-column type=\"expand\">\n                        <template slot-scope=\"props\">\n                            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                                <el-row v-show=\"props.row.type==='api'\" :gutter=\"10\">\n                                    <el-form-item label=\"接口地址： \">\n                                        <span>{{ props.row.url }}</span>\n                                    </el-form-item>\n                                </el-row>\n                                <el-row v-show=\"props.row.type==='api'\" :gutter=\"10\">\n                                    <el-form-item label=\"请求方式： \">\n                                        <span>{{ props.row.method }}</span>\n                                    </el-form-item>\n                                </el-row>\n                                <el-row v-show=\"props.row.type==='api'\" :gutter=\"10\">\n                                    <el-form-item label=\"请求参数： \">\n                                        <span style=\"word-break: break-all;overflow:auto;overflow-x:hidden\">{{ props.row.data }}</span>\n                                    </el-form-item>\n                                </el-row>\n                                <el-row :gutter=\"10\">\n                                    <el-form-item label=\"返回结果： \">\n                                        <span>\n                                            <!--<pre style=\"word-break: break-all;overflow:auto;overflow-x:hidden\">-->\n                                              <code v-show=\"props.row.type!=='api'\">{{ props.row.result }}</code>\n                                            <!--</pre>-->\n                                              <json-viewer v-show=\"props.row.type==='api'\" :value=\"props.row.result\" :expand-depth=5 boxed copyable></json-viewer>\n                                        </span>\n                                    </el-form-item>\n                                </el-row>\n                            </el-form>\n                        </template>\n                    </el-table-column>\n                    <el-table-column type=\"index\" width=\"55\">\n                    </el-table-column>\n                    <el-table-column prop=\"name\" label=\"名称\" min-width=\"20%\" show-overflow-tooltip>\n                        <template slot-scope=\"scope\">\n                            <span style=\"font-size: 16px\">{{scope.row.name}}</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column prop=\"result\" label=\"返回结果\" min-width=\"40%\" show-overflow-tooltip>\n                        <template slot-scope=\"scope\">\n                            <span style=\"font-size: 16px\">{{scope.row.result}}</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column prop=\"status\" label=\"执行状态\" min-width=\"10%\" show-overflow-tooltip>\n                        <template slot-scope=\"scope\">\n                            <span v-show=\"scope.row.status==='PASS'\" style=\"color: #11b95c;cursor:pointer;\">成功</span>\n                            <span v-show=\"scope.row.status==='FAIL'\" style=\"color: #cc0000;cursor:pointer;\">失败</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column prop=\"description\" label=\"描述\" min-width=\"30%\" show-overflow-tooltip>\n                        <template slot-scope=\"scope\">\n                            <span style=\"font-size: 16px\">{{scope.row.description}}</span>\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </template>\n        </el-table-column>\n        <el-table-column type=\"index\" label=\"#\" width=\"100\">\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"步骤名称\" min-width=\"20%\" sortable show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n                <span>{{scope.row.name}}</span>\n            </template>\n        </el-table-column>\n        <el-table-column prop=\"testTime\" label=\"测试时间\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"duration\" label=\"执行时间(毫秒)\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"result\" label=\"执行结果\" min-width=\"15%\" sortable show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n                <span v-show=\"scope.row.result==='PASS'\" style=\"color: #11b95c;\">PASS</span>\n                <span v-show=\"scope.row.result==='FAIL'\" @click=\"handleUpdateFail(detailTable.parentResult)\" style=\"color: #cc0000;cursor:pointer;\">FAIL</span>\n            </template>\n        </el-table-column>\n    </el-table>\n    <el-table :data=\"resultTable.list\" stripe border element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\" v-loading=\"resultTable.loading\" v-show=\"resultTable.visible\" :row-style=\"tableRowStyle\">\n        <el-table-column type=\"index\" label=\"#\" width=\"100\">\n        </el-table-column>\n        <el-table-column  prop=\"name\" label=\"名称\" min-width=\"20%\" sortable show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n                <el-icon name=\"name\"></el-icon>\n                <router-link v-if=\"type==='case'\" :to=\"{ name: '自动化执行详情', params: {project_id: project_id,automation_id: scope.row.automation_id,trace:scope.row.trace}}\" style='text-decoration: none;'>{{ scope.row.name }}</router-link>\n                <router-link v-if=\"type!=='case'\" :to=\"{ name: '自动化任务执行结果', params: {project_id: project_id,trace:scope.row.trace}}\" style='text-decoration: none;'>{{ scope.row.name }}</router-link>\n            </template>\n        </el-table-column>\n        <el-table-column prop=\"testTime\" label=\"测试时间\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"env\" label=\"环境\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"duration\" label=\"执行时间(毫秒)\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"result\" label=\"测试结果\" min-width=\"15%\" sortable show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n                <span v-show=\"scope.row.result==='PASS'\" style=\"color: #11b95c;\">PASS</span>\n                <span v-show=\"scope.row.result==='FAIL'\" :title=\"scope.row.failDetail\" @click=\"handleUpdateFail(scope.row)\" style=\"color: #cc0000;cursor:pointer;\">FAIL<span v-if=\"scope.row.failType\">({{failType[scope.row.failType]}}原因)</span></span>\n            </template>\n        </el-table-column>\n        <el-table-column v-if=\"type==='case'\" label=\"操作\" min-width=\"20%\">\n            <template slot-scope=\"scope\">\n                <router-link :to=\"{ name: '自动化步骤列表', params: {automation_id: scope.row.automation_id}}\" style='text-decoration: none;'><el-button type=\"primary\" size=\"small\">查看用例</el-button></router-link>\n            </template>\n        </el-table-column>\n    </el-table>\n    <!--工具条-->\n    <el-col v-show=\"resultTable.visible\" :span=\"24\" class=\"toolbar\">\n      <el-pagination layout=\"total, prev, pager, next\" @current-change=\"handleResultPage\" :current-page.sync=\"resultTable.page\" :page-size=\"resultTable.pageSize\" :page-count=\"resultTable.pages\" :total=\"resultTable.total\" style=\"float:right;\">\n      </el-pagination>\n    </el-col>\n    <el-table :data=\"summaryTable.list\" stripe border element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\" v-show=\"summaryTable.visible\" highlight-current-row v-loading=\"summaryTable.loading\" style=\"width: 100%;\">\n        <!--<el-table-column type=\"selection\" min-width=\"5%\">-->\n        <!--</el-table-column>-->\n        <el-table-column prop=\"automation_id\" label=\"ID\" min-width=\"5%\" sortable>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"自动化名称\" min-width=\"20%\" sortable show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n                <el-icon name=\"name\"></el-icon>\n                <router-link :to=\"{ name: '自动化执行结果', params: {project_id: project_id,automation_id: scope.row.automation_id}}\" style='text-decoration: none;'>{{ scope.row.name }}</router-link>\n            </template>\n        </el-table-column>\n        <el-table-column prop=\"total\" label=\"执行总数\" min-width=\"10%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"passed\" label=\"执行成功\" min-width=\"10%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"passRate\" label=\"通过率(%)\" min-width=\"10%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"duration\" label=\"执行总时间(毫秒)\" min-width=\"10%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <!--<el-table-column label=\"操作\" min-width=\"20%\">-->\n            <!--<template slot-scope=\"scope\">-->\n                <!--<el-button type=\"primary\" size=\"small\" @click=\"viewAutomationResult('case',scope.row.automation_id)\">查看</el-button>-->\n            <!--</template>-->\n        <!--</el-table-column>-->\n    </el-table>\n    <!--工具条-->\n    <el-col v-show=\"summaryTable.visible\" :span=\"24\" class=\"toolbar\">\n      <el-pagination layout=\"total, prev, pager, next\" @current-change=\"handleSummaryPage\" :page-size=\"summaryTable.pageSize\" :current-page.sync=\"summaryTable.page\" :page-count=\"summaryTable.pages\" :total=\"summaryTable.total\" style=\"float:right;\">\n      </el-pagination>\n    </el-col>\n      <el-table :data=\"apiAutomatedTable.list\" stripe border element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\" v-loading=\"apiAutomatedTable.loading\" v-show=\"apiAutomatedTable.visible\" :row-style=\"tableRowStyle\">\n        <el-table-column type=\"index\" label=\"#\" width=\"100\">\n        </el-table-column>\n        <el-table-column  prop=\"name\" label=\"名称\" min-width=\"20%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"num\" label=\"关联自动化数\" min-width=\"15%\" sortable show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"automationName\" label=\"关联自动化用例\" min-width=\"30%\" sortable show-overflow-tooltip>\n        </el-table-column>\n    </el-table>\n    <!--工具条-->\n    <el-col v-show=\"apiAutomatedTable.visible\" :span=\"24\" class=\"toolbar\">\n      <el-pagination layout=\"total, prev, pager, next\" @current-change=\"handleApiAutomatedTablePage\" :current-page.sync=\"apiAutomatedTable.page\" :page-size=\"20\" :page-count=\"apiAutomatedTable.pages\" :total=\"apiAutomatedTable.total\" style=\"float:right;\">\n      </el-pagination>\n    </el-col>\n      </el-row>\n  </el-main>\n  </el-container>\n  <el-dialog width=\"40%\" title=\"错误详情\" :visible.sync=\"failForm.visible\" :close-on-click-modal=\"false\">\n        <el-form :model=\"failForm.data\"  :rules=\"failForm.rules\" ref=\"failForm\" label-width=\"80px\">\n            <el-form-item label=\"类型\" label-width=\"83px\" prop=\"type\">\n                <el-select v-model=\"failForm.data.type\" placeholder=\"类型\">\n                    <el-option v-for=\"(item,key) in failType\" :label=\"item\" :value=\"key\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"严重等级\" label-width=\"83px\" prop=\"severity\">\n                <el-select v-model=\"failForm.data.severity\" placeholder=\"严重等级\">\n                    <el-option v-for=\"(item,index) in severity\" :key=\"index+''\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"根源\" prop='cause'>\n                <el-input type=\"textarea\" :rows=\"2\" v-model.trim=\"failForm.data.cause\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"详情\" prop='detail'>\n                <el-input type=\"textarea\" :rows=\"2\" v-model.trim=\"failForm.data.detail\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"关联缺陷\" prop='bug'>\n                <el-input type=\"input\" v-model.trim=\"failForm.data.bug\"></el-input>\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click.native=\"failForm.visible = false\">取消</el-button>\n            <el-button type=\"primary\" @click.native=\"updateFailSubmit\" :loading=\"failForm.loading\">提交</el-button>\n        </div>\n    </el-dialog>\n</div>\n</section>\n",null]}