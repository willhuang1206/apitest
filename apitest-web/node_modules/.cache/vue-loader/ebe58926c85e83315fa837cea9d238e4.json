{"remainingRequest":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangrong/workspace/apitest/apitest-web/src/views/project/projectTitle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangrong/workspace/apitest/apitest-web/src/views/project/projectTitle.vue","mtime":1590380748867},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { test } from '../../api/api';\nimport axios from \"axios\";\nexport default {\n    props: ['project_id'],\n    data() {\n        return {\n            name: '',\n            type: '',\n            version: '',\n            updateDate: '',\n            apiCount: 0,\n            apiAutomatedCount: 0,\n            apiAutomatedCoverage: 0,\n            automationCount: 0,\n            resultCount: 0,\n            statusCount: 0,\n            dynamicCount: 0,\n            memberCount: 0,\n            configCount: 0,\n            createDate: '',\n        }\n    },\n    methods: {\n        getProjectInfo() {\n            var self = this;\n            let params = { project_id: this.project_id};\n            let headers = {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: 'Token '+sessionStorage.getItem('token')\n                };\n            axios.get(`${test}/api/title/project_info`, { params: params, headers:headers}).then(res => {\n               let { msg, code, data } = res.data;\n               self.listLoading = false;\n                    if (code === '999999') {\n                        self.name = data.name;\n                        self.type = data.type;\n                        self.version = data.version;\n                        self.updateDate = data.LastUpdateTime;\n                        self.apiCount = data.apiCount;\n                        self.automationCount = data.automationCount;\n                        self.apiAutomatedCount = data.apiAutomatedCount;\n                        self.apiAutomatedCoverage=parseFloat((self.apiAutomatedCount*100/self.apiCount).toFixed(1));\n                        self.resultCount=data.resultCount;\n                        self.dynamicCount = data.dynamicCount;\n                        self.memberCount = data.memberCount;\n                        self.configCount = data.configCount;\n                        self.createDate = data.createTime;\n                    }\n                    else {\n                        self.$message.error({\n                            message: msg,\n                            center: true,\n                        })\n                    }\n            });\n        }\n    },\n    mounted() {\n        this.getProjectInfo()\n    }\n}\n",null]}