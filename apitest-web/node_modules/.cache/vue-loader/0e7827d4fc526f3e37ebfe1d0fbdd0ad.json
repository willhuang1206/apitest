{"remainingRequest":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangrong/workspace/apitest/apitest-web/src/views/project/projectDynamic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangrong/workspace/apitest/apitest-web/src/views/project/projectDynamic.vue","mtime":1588749633777},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangrong/workspace/apitest/apitest-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getProjectDynamicList } from '../../api/api'\nexport default {\n    data() {\n        return {\n            filters: {\n                name: \"\",\n            },\n            tableData: [],\n            total: 0,\n            page: 1,\n            pages: 0,\n            listLoading: false,\n        }\n    },\n    methods: {\n        handleCurrentChange(val) {\n            this.page = val;\n            this.getProjectDynamic();\n        },\n        handleSearch(){\n            this.page=1;\n            this.getProjectDynamic();\n        },\n        // 获取项目动态\n        getProjectDynamic() {\n            this.listLoading = true;\n            let self = this;\n            let params = {\n                project_id: Number(this.$route.params.project_id),\n                page: self.page,\n                name: self.filters.name,\n            };\n            let headers = {\n                \"Content-Type\": \"application/json\",\n                Authorization: 'Token '+sessionStorage.getItem('token')\n            };\n            getProjectDynamicList(headers, params).then(_data => {\n                let {msg, code, data} = _data;\n                self.listLoading = false;\n                if (code === '999999') {\n                    self.total = data.total;\n                    self.pages = data.pages;\n                    self.tableData = data.data\n                }\n                else {\n                    self.$message.error({\n                        message: msg,\n                        center: true,\n                    })\n                }\n            })\n        },\n    },\n    mounted() {\n        this.getProjectDynamic();\n    }\n}\n",null]}